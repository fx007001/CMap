{"code":"// import initBMap from './baidu'\r\nvar $options;\r\nvar CMap = /** @class */ (function () {\r\n    function CMap(options) {\r\n        $options = options;\r\n        this.mapAk = 'f7HnzEYGLgOyMyDVTh99ZEQqjlEzuhyC';\r\n        this.initMap();\r\n    }\r\n    CMap.prototype.init = function (args) {\r\n        console.log(33, args);\r\n        initBMap();\r\n    };\r\n    // 初始化地图 \r\n    CMap.prototype.initMap = function () {\r\n        var type = $options.type;\r\n        if (type && type === 'TMAP') {\r\n            this.createTMap();\r\n        }\r\n        else if (type && type === 'GMAP') {\r\n            this.createGMap();\r\n        }\r\n        else {\r\n            this.createBMap();\r\n        }\r\n    };\r\n    CMap.prototype.createBMap = function () {\r\n        var self = this;\r\n        var script = document.createElement('script');\r\n        script.type = 'text/javascript';\r\n        script.src = \"//api.map.baidu.com/api?type=webgl&v=1.0&ak=\".concat(this.mapAk, \"&callback=initBMap\"); // &callback=initBMap\r\n        document.body.appendChild(script);\r\n    };\r\n    CMap.prototype.createGMap = function () {\r\n        console.log('高德地图研发中。。。');\r\n    };\r\n    CMap.prototype.createTMap = function () {\r\n        console.log('腾讯地图研发中。。。');\r\n    };\r\n    return CMap;\r\n}());\r\nexport default CMap;\r\nfunction initBMap() {\r\n    var BMapGL;\r\n    // console.log(88, args)\r\n    // console.log(9991,$options)\r\n    // 通用配置\r\n    var _a = $options.id, id = _a === void 0 ? 'map' : _a, _b = $options.points, points = _b === void 0 ? [116.404, 39.915] : _b, areaName = $options.areaName, _c = $options.zoom, zoom = _c === void 0 ? 10 : _c, _d = $options.minZoom, minZoom = _d === void 0 ? 0 : _d, _e = $options.maxZoom, maxZoom = _e === void 0 ? 20 : _e, _f = $options.enableScrollWheel, enableScrollWheel = _f === void 0 ? true : _f, _g = $options.isScaleCtrl, isScaleCtrl = _g === void 0 ? false : _g, _h = $options.isZoomCtrl, isZoomCtrl = _h === void 0 ? false : _h;\r\n    var map = new BMapGL.Map(id);\r\n    var point = $options.points && points.length === 2 ? new BMapGL.Point(points[0], points[1]) : null;\r\n    map.centerAndZoom(point !== null && point !== void 0 ? point : areaName, zoom);\r\n    // map.setMinZoom(minZoom);\r\n    // map.setMinZoom(maxZoom);\r\n    console.log(enableScrollWheel);\r\n    map.enableScrollWheelZoom(enableScrollWheel);\r\n    if (isScaleCtrl) {\r\n        var scaleCtrl = new BMapGL.ScaleControl(); // 添加比例尺控件\r\n        map.addControl(scaleCtrl);\r\n    }\r\n    if (isZoomCtrl) {\r\n        var zoomCtrl = new BMapGL.ZoomControl(); // 添加缩放控件\r\n        map.addControl(zoomCtrl);\r\n    }\r\n    // 轨迹配置\r\n    // map.centerAndZoom(new BMapGL.Point(116.404, 39.915), 11);\r\n    // var p1 = new BMapGL.Point(116.301934,39.977552);\r\n    // var p2 = new BMapGL.Point(116.508328,39.919141);\r\n    // var driving = new BMapGL.DrivingRoute(map, {renderOptions:{map: map, autoViewport: true}});\r\n    // driving.search(p1, p2);\r\n    // 围栏配置\r\n    var circle = new BMapGL.Circle(new BMapGL.Point(116.404, 39.915), 500, {\r\n        strokeColor: 'blue',\r\n        strokeWeight: 2,\r\n        strokeOpacity: 0.5\r\n    });\r\n    map.addOverlay(circle);\r\n}\r\n","references":[]}
